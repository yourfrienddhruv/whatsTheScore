<head>
    <title>What's The Score!</title>
</head>

<body>

{{>liveScore}}

<!--{{#if showRecordCricketMatch}}
    {{> recordScoreOfCricketMatch}}
{{else}}
    <button id="recordButton">Start Recording CricketMatch</button>
    <hr/>
    {{#if cricketSummary }}
    {{>cricketMatchSummary}}
{{else}}
    {{> cricketMatchResults}}
{{/if}}
{{/if}}
-->
</body>

<template name="recordScoreOfCricketMatch">
    {{#autoForm collection="CricketMatchSummary" id="recordScoreOfCricketMatchForm" type="insert"
    class="form-inline form-group-sm"}}
        <fieldset>
            <legend>Team 1</legend>
            <div class="form-group{{#if afFieldIsInvalid name='team1'}}has-error{{/if}}">
                {{> afFieldInput name='team1' placeholder="schemaLabel" }}
                {{#if afFieldIsInvalid name='team1'}}
                    <span class="help-block">{{afFieldMessage name='team1'}}</span>
                {{/if}}
            </div>
            <div class="form-group {{#if afFieldIsInvalid name='runsOfTeam1'}}has-error{{/if}}">
                {{> afFieldInput name='runsOfTeam1' placeholder="schemaLabel" }}
                {{#if afFieldIsInvalid name='runsOfTeam1'}}
                    <span class="help-block">{{afFieldMessage name='runsOfTeam1'}}</span>
                {{/if}}
            </div>

            <div class="form-group {{#if afFieldIsInvalid name='wicketsOfTeam1'}}has-error{{/if}}">
                {{> afFieldInput name='wicketsOfTeam1' placeholder="schemaLabel" }}
                {{#if afFieldIsInvalid name='wicketsOfTeam1'}}
                    <span class="help-block">{{afFieldMessage name='wicketsOfTeam1'}}</span>
                {{/if}}
            </div>


            <div class="form-group {{#if afFieldIsInvalid name='team1Overs'}}has-error{{/if}}">
                {{> afFieldInput name='team1Overs' placeholder="schemaLabel" }}
                {{#if afFieldIsInvalid name='team1Overs'}}
                    <span class="help-block">{{afFieldMessage name='team1Overs'}}</span>
                {{/if}}
            </div>
            <br>

            <div class="form-group {{#if afFieldIsInvalid name='highestScoringPlayerTeam1'}}has-error{{/if}}">
                {{> afFieldInput name='highestScoringPlayerTeam1' placeholder="schemaLabel" }}
                {{#if afFieldIsInvalid name='highestScoringPlayerTeam1'}}
                    <span class="help-block">{{afFieldMessage name='highestScoringPlayerTeam1'}}</span>
                {{/if}}
            </div>
            <div class="form-group {{#if afFieldIsInvalid name='highestRunsTeam1'}}has-error{{/if}}">
                {{> afFieldInput name='highestRunsTeam1' placeholder="schemaLabel" }}
                {{#if afFieldIsInvalid name='highestRunsTeam1'}}
                    <span class="help-block">{{afFieldMessage name='highestRunsTeam1'}}</span>
                {{/if}}
            </div>
            <div class="form-group {{#if afFieldIsInvalid name='highestWicketPlayerTeam1'}}has-error{{/if}}">
                {{> afFieldInput name='highestWicketPlayerTeam1' placeholder="schemaLabel" }}
                {{#if afFieldIsInvalid name='highestWicketPlayerTeam1'}}
                    <span class="help-block">{{afFieldMessage name='highestWicketPlayerTeam1'}}</span>
                {{/if}}
            </div>
            <div class="form-group {{#if afFieldIsInvalid name='highestWicketsTeam1'}}has-error{{/if}}">
                {{> afFieldInput name='highestWicketsTeam1' placeholder="schemaLabel"}}
                {{#if afFieldIsInvalid name='highestWicketsTeam1'}}
                    <span class="help-block">{{afFieldMessage name='highestWicketsTeam1'}}</span>
                {{/if}}
            </div>


        </fieldset>
        <fieldset>
            <legend>Team 2</legend>
            <div class="form-group {{#if afFieldIsInvalid name='team2'}}has-error{{/if}}">
                {{> afFieldInput name='team2' placeholder="schemaLabel" }}
                {{#if afFieldIsInvalid name='team2'}}
                    <span class="help-block">{{afFieldMessage name='team2'}}</span>
                {{/if}}
            </div>
            <div class="form-group {{#if afFieldIsInvalid name='runsOfTeam2'}}has-error{{/if}}">
                {{> afFieldInput name='runsOfTeam2' placeholder="schemaLabel" }}
                {{#if afFieldIsInvalid name='runsOfTeam2'}}
                    <span class="help-block">{{afFieldMessage name='runsOfTeam2'}}</span>
                {{/if}}
            </div>

            <div class="form-group {{#if afFieldIsInvalid name='wicketsOfTeam2'}}has-error{{/if}}">
                {{> afFieldInput name='wicketsOfTeam2' placeholder="schemaLabel" }}
                {{#if afFieldIsInvalid name='wicketsOfTeam2'}}
                    <span class="help-block">{{afFieldMessage name='wicketsOfTeam2'}}</span>
                {{/if}}
            </div>

            <div class="form-group {{#if afFieldIsInvalid name='team2Overs'}}has-error{{/if}}">
                {{> afFieldInput name='team2Overs' placeholder="schemaLabel" }}
                {{#if afFieldIsInvalid name='team2Overs'}}
                    <span class="help-block">{{afFieldMessage name='team2Overs'}}</span>
                {{/if}}
            </div>
            <br>
            <!--summary-->
            <div class="form-group {{#if afFieldIsInvalid name='highestScoringPlayerTeam2'}}has-error{{/if}}">
                {{> afFieldInput name='highestScoringPlayerTeam2' placeholder="schemaLabel" }}
                {{#if afFieldIsInvalid name='highestScoringPlayerTeam2'}}
                    <span class="help-block">{{afFieldMessage name='highestScoringPlayerTeam2'}}</span>
                {{/if}}
            </div>
            <div class="form-group {{#if afFieldIsInvalid name='highestRunsTeam2'}}has-error{{/if}}">
                {{> afFieldInput name='highestRunsTeam2' placeholder="schemaLabel" }}
                {{#if afFieldIsInvalid name='highestRunsTeam2'}}
                    <span class="help-block">{{afFieldMessage name='highestRunsTeam2'}}</span>
                {{/if}}
            </div>
            <div class="form-group {{#if afFieldIsInvalid name='highestWicketPlayerTeam2'}}has-error{{/if}}">
                {{> afFieldInput name='highestWicketPlayerTeam2' placeholder="schemaLabel" }}
                {{#if afFieldIsInvalid name='highestWicketPlayerTeam2'}}
                    <span class="help-block">{{afFieldMessage name='highestWicketPlayerTeam2'}}</span>
                {{/if}}
            </div>
            <div class="form-group {{#if afFieldIsInvalid name='highestWicketsTeam2'}}has-error{{/if}}">
                {{> afFieldInput name='highestWicketsTeam2' placeholder="schemaLabel" }}
                {{#if afFieldIsInvalid name='highestWicketsTeam2'}}
                    <span class="help-block">{{afFieldMessage name='highestWicketsTeam2'}}</span>
                {{/if}}
            </div>
        </fieldset>
        <br>
        <fieldset>
            <div class="form-group {{#if afFieldIsInvalid name='resultText'}}has-error{{/if}}">
                {{> afFieldInput name='resultText' placeholder="schemaLabel"}}
                {{#if afFieldIsInvalid name='resultText'}}
                    <span class="help-block">{{afFieldMessage name='resultText'}}</span>
                {{/if}}
            </div>
        </fieldset>
        <fieldset>
            <button type="submit" class="btn btn-primary">
                <span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Record Result!
            </button>
            <button type="reset" class="btn btn-default" id="showResultsButton">Go back to results</button>
        </fieldset>
    {{/autoForm}}
</template>

<template name="cricketMatchResults">
    <header>
        Latest Cricket Match Results
    </header>
    <table class="table table-striped table-hover" id="table1">
        <thead>
        <tr>
            <th>Team : Runs/Wickets (Overs)</th>
            <th>Result</th>
            <th>Held on</th>
        </tr>
        </thead>
        <tbody>
        {{#each cricketMatchResults}}
            <tr id="teamRecord">
                <td>
                    <b>{{team1}}</b> :{{runsOfTeam1}}/{{wicketsOfTeam1}} ({{team1Overs}}) v/s
                    <b>{{team2}}</b> :{{runsOfTeam2}}/{{wicketsOfTeam2}} ({{team2Overs}})
                </td>
                <td>{{resultText}}</td>
                <td>{{cricketMatchDate}}</td>
            </tr>
        {{/each}}
        </tbody>
    </table>
</template>

<template name="cricketMatchSummary">
    <div>
        <div class="row">
            <div class="col-md-6">
                <b>{{cricketSummary.team1}}{{cricketSummary.runsOfTeam1}}/{{cricketSummary.wicketsOfTeam1}}
                    ({{cricketSummary.team1Overs}})</b>
            </div>
            <div class="col-md-6 text-right">
                {{cricketcricketSummary.CricketMatchDate}}
            </div>
        </div>

        <br>
        <hr>

        <div class="row">
            <div class="col-md-6">
                {{cricketSummary.highestScoringPlayerTeam1}}-({{cricketSummary.highestRunsTeam1}})
            </div>
            <div class="col-md-6 text-right">
                {{cricketSummary.highestWicketPlayerTeam1}}-{{cricketSummary.highestWicketsTeam1}}
            </div>
        </div>

    </div>
    <br>
    <hr>
    <hr>

    <div>
        <div class="row">
            <div class="col-md-6">
                <b>{{cricketSummary.team2}}{{cricketSummary.runsOfTeam2}}/{{cricketSummary.wicketsOfTeam2}}
                    ({{cricketSummary.team2Overs}})</b>
            </div>
            <div class="col-md-6 text-right">
            </div>
        </div>

        <br>
        <hr>

        <div class="row">
            <div class="col-md-6">
                {{cricketSummary.highestScoringPlayerTeam2}}-({{cricketSummary.highestRunsTeam2}})
            </div>
            <div class="col-md-6 text-right">
                {{cricketSummary.highestWicketPlayerTeam2}}-{{cricketSummary.highestWicketsTeam2}}
            </div>
        </div>
    </div>
    <br>


    <div align="center">
        <button id="back">Back</button>
    </div>

</template>


<template name="liveScore">

    {{#if match._id}}
        {{#if session._id}}
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Record Ball
                        <button type="button" class="btn btn-primary" id="rotateStrike">Rotate Strike</button>
                    </h3>
                </div>
                <div class="panel-body">
                    {{> quickForm collection="CricketSessionEvent" doc=sessionEvent
                    id="cricketSessionEventForm" type="submit" class="form-inline form-group-sm" }}
                </div>
            </div>
        {{else}}
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Start a Session</h3>
                </div>
                <div class="panel-body">
                    {{> quickForm collection="CricketSession" id="cricketSessionForm"
                    doc=session
                    type="submit" class="form-inline form-group-sm" }}
                </div>
            </div>
        {{/if}}
    {{else}}
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Start a Match</h3>
            </div>
            <div class="panel-body">
                {{> quickForm collection="CricketMatch" id="cricketMatchForm" type="submit" class="form-inline form-group-sm" }}
            </div>
        </div>
    {{/if}}

</template>

<template name="liveScore2">

    {{> quickForm collection="CricketMatch" id="cricketMatchForm" type="insert"  class="form-inline form-group-sm" }}

    {{> quickForm collection="CricketSession" id="cricketMatchForm" type="insert"}}





    {{#autoForm type="insert" collection="CricketSessionEvent" id="liveScoreForm" class="form-inline form-group-sm"  }}
        <fieldset>
            Match : {{> afFieldInput name='match' value="India vs. Pak" }}
            <br/>
            battingTeam{{> afFieldInput name='battingTeam' value="India" }}
            sessionNumber{{> afFieldInput name='sessionNumber' value="1" }}
            inning{{> afFieldInput name='inning' value=liveRecord.inning }}
            currentOver{{> afFieldInput name='currentOver' value=liveRecord.currentOver }}
            <br/>
            Run of batsman : {{> afFieldInput type="hidden" name='runOfBatsman' id="runOfBatsman" }} <br/>
            Ball sequence: {{> afFieldInput name='ballSequence' value=ballRecord.ballSequence }}<br/>
            Balls in Over <input type="text" id="ballInOver" value={{ballRecord.ballInOver}}><br/>

            {{> afFieldInput name='onStrikePlayer' }}


            <div class="form-group {{#if afFieldIsInvalid name='player1'}}has-error{{/if}}">
                {{> afFieldInput name='player1' placeholder="Player 1" }}
                {{#if afFieldIsInvalid name='player1'}}
                    <span class="help-block">{{afFieldMessage name='player1'}}</span>
                {{/if}}
                :  {{liveRecord.player1Run}} {{#if liveRecord.onStrike}}*{{/if}} &nbsp; Wicket <input
                    name="ballType" type="radio" class="out" value="Out1"><br>
            </div>
            <br>

            <div class="form-group {{#if afFieldIsInvalid name='player2'}}has-error{{/if}}">
                {{> afFieldInput name='player2' placeholder="Player 2" }}
                {{#if afFieldIsInvalid name='player2'}}
                    <span class="help-block">{{afFieldMessage name='player2'}}</span>
                {{/if}}
                : {{liveRecord.player1Run}} {{#if liveRecord.onStrike}}{{else}}*{{/if}}&nbsp; Wicket
                <input name="ballType" type="radio" class="out" value="Out2"><br><br>
            </div>
            <br>
            <button type="button" class="btn btn-primary" id="rotateStrike">Rotate Strike</button>
            <br><br>

            {{#if afFieldIsInvalid name='bowler'}}has-error{{/if}}
            {{> afFieldInput name='bowler' placeholder="Bowler" }}
            {{#if afFieldIsInvalid name='bowler'}}
                <span class="help-block">{{afFieldMessage name='bowler'}}</span>
            {{/if}}

            <br><br>

            Valid Ball<input name="ballType" type="radio" class="wide" value="valid" checked="true">
            Wide <input name="ballType" type="radio" class="wide" value="1">
            No Ball<input name="ballType" type="radio" class="noBall" value="No Ball">
            Extra <input name="ballType" type="radio" class="extra" value="Extra">


            <br><br>
            <button type="button" class="btn btn-primary" id="run0">0</button>
            <button type="button" class="btn btn-primary" id="run1">1</button>
            <button type="button" class="btn btn-primary" id="run2">2</button>
            <button type="button" class="btn btn-primary" id="run3">3</button>
            <button type="button" class="btn btn-primary" id="run4">4</button>
            <button type="button" class="btn btn-primary" id="run6">6</button>

            <input type="submit" id="submitButton" class="hide"/>

        </fieldset>

    {{/autoForm}}

</template>
